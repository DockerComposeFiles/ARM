version: "3.3"
services:
  gpio-priv:
    privileged: true # docker-compose unterstützt privilegierte Container nicht
    # Ausführung mittels docker-compose ist daher nicht möglich
    container_name: priv-gpio
    build:
      context: ./
      dockerfile: ./Dockerfile
    deploy:
      placement:
        constraints:
          - node.labels.gpio == default
    devices:
      - /dev/
      - /dev/mem
      - /dev/gpiomem

      - /dev/i2c-1
      - /dev/i2c-0
      - /dev/i2c/1
      - /dev/i2c/0

      - /dev/gpio
